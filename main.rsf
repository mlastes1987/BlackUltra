#----------------------------------------------------------------------------
# Project:  Pokemon Black Decompilation
# File:     main.rsf
#
# ROM Specification File (RSF) for Pokemon Black
#
# This file describes the final ROM structure and is used by makerom
# to package the .nds file.
#
# Usage: makerom.TWL.exe -f main.rsf -o pokeblack.nds ...
#----------------------------------------------------------------------------

#============================================================================
# ARM9 Configuration
#============================================================================
Arm9
{
	#
	# Main ARM9 binary (static section)
	# Generated by mwldarm from your C/asm code + SDK libraries
	#
	Static		"$(BUILD_DIR)/arm9.sbin$(COMPSUFFIX9)"

	#
	# Overlay definition table
	# Lists all 159 overlays and their properties
	#
	OverlayDefs	"$(BUILD_DIR)/arm9_defs.sbin$(COMPSUFFIX9)"

	#
	# Overlay table
	# Index of which overlays exist
	#
	OverlayTable	"$(BUILD_DIR)/arm9_table.sbin$(COMPSUFFIX9)"

	#
	# ELF file (for debugging)
	#
	Elf		"$(BUILD_DIR)/arm9.nef"
}

#============================================================================
# ARM7 Configuration
#============================================================================
Arm7
{
	#
	# ARM7 binary
	# You're already building this successfully from asm/arm7_main.s
	#
	Static		"$(BUILD_DIR)/arm7.sbin$(COMPSUFFIX7)"
	OverlayDefs	"$(BUILD_DIR)/arm7_defs.sbin$(COMPSUFFIX7)"
	OverlayTable	"$(BUILD_DIR)/arm7_table.sbin$(COMPSUFFIX7)"
	Elf		"$(BUILD_DIR)/arm7.nef"
}

#============================================================================
# ROM Properties
#============================================================================
Property
{
	###
	#  ROM header information
	#
	#  Title:       Pokemon Black Version
	#  Game Code:   IRBO (I=Nintendo DS, R=Game Freak, B=Black, O=USA)
	#  Maker Code:  01 (Nintendo)
	#  ROM Version: 00
	#  Card Device: NOR Flash
	#  Card Size:   256 MB
	###

	#
	# Title name (12 characters max)
	#
	TitleName		"POKEMON B"

	#
	# Game code (4 characters)
	# I = Nintendo DS, R = Game Freak, B = Black, O = USA
	#
	GameCode		"IRBO"

	#
	# Maker code (2 characters)
	# 01 = Nintendo
	#
	MakerCode		"01"

	#
	# ROM version
	#
	RomVersion		0

	#
	# ROM speed (can be MROM for faster access)
	#
	RomSpeedType	$(MAKEROM_ROMSPEED)

	#
	# Card device (NOR flash)
	#
	CardDevice		NOR

	#
	# Card size (256 MB)
	#
	CardSize		256M

	#
	# DSi Enhanced (Pokemon Black is DSi enhanced)
	#
	Platform		TWL
	AppType			HYBRID

	#
	# Secure area CRC (for Pokemon Black USA)
	#
	SecureCRC		0x8B9B
}

#============================================================================
# ROM File System
#============================================================================
RomSpec
{
	#
	# ROM starts at offset 0
	#
	Offset		0x00000000

	#
	# Include all segments
	#
	Segment		ALL

	#
	# Align to 512 bytes (standard for NDS)
	#
	Align		512

	#
	# Padding byte (0xFF is standard)
	#
	Padding		0xFF

	#
	# Filesystem root
	# All files in extracted/rom/filesystem will be included
	#
	HostRoot	extracted/rom/filesystem
	Root		/
	File		*		# Include all files recursively
}

#============================================================================
# Notes
#============================================================================
#
# Variables used:
# - $(BUILD_DIR): Build output directory
# - $(COMPSUFFIX9): Compression suffix for ARM9 (e.g., "_LZ" if compressed)
# - $(COMPSUFFIX7): Compression suffix for ARM7
# - $(MAKEROM_ROMSPEED): ROM speed setting (MROM or RROM)
#
# Pokemon Black Info:
# - ROM SHA1: 26ad0b9967aa279c4a266ee69f52b9b2332399a5
# - Version: 1.0 (USA, NDSi Enhanced)
# - Size: 256 MB (268,435,456 bytes)
#
#============================================================================
