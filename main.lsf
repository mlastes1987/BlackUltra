#----------------------------------------------------------------------------
# Project:  Pokemon Black Decompilation
# File:     main.lsf
#
# Linker Specification File (LSF) for Pokemon Black ARM9
#
# This file describes the memory layout and linking structure for the main
# ARM9 binary and overlays.
#
# Usage with Nintendo SDK tools:
#   makelcf.TWL.exe main.lsf -template ARM9-TS.lcf.template ...
#
# Memory Map (discovered from baserom.nds):
#   - ARM9 load address: 0x02004000
#   - ARM9 size: 0x6F898 (456,856 bytes)
#   - Entry point: 0x02004800
#   - Overlay region: 0x02070000 - 0x02250000
#   - ITCM: 0x01FF8000 (32 KB)
#   - DTCM: 0x027E0000 (16 KB)
#----------------------------------------------------------------------------

#============================================================================
# Static Section (Main ARM9 Binary)
#============================================================================
Static main
{
	Address		0x02004000
	StackSize	0 2048

	# Main objects - paths relative to build directory (where linker runs)
	Object		crt0.o
	Object		main.o
	Object		init.o
	Object		async_operation_is_complete.o
	Object		fade_state_init_transition.o
	Object		fade_state_machine_update.o
	Object		fade_state_process.o
	Object		fade_state_process_transition.o
	Object		fade_state_reset.o
	Object		globals.o
	Object		heap_alloc_dual.o
	Object		heap_block_conditional_setup.o
	Object		heap_block_get_field04.o
	Object		heap_block_get_state_value.o
	Object		heap_block_init_fields.o
	Object		heap_block_initialize.o
	Object		heap_block_setup_both_resources.o
	Object		heap_block_setup_resource14.o
	Object		heap_block_setup_resource18.o
	Object		heap_initialize_with_params.o
	Object		heap_manager_get_current_block_ptr.o
	Object		heap_manager_get_current_index.o
	Object		resource_object_destroy.o
	Object		overlay_stubs.o
	Object		resource_object_load_and_init.o
	Object		resource_object_reset.o
	Object		resource_pool_allocate.o
	Object		resource_pool_allocate_sync.o
	Object		resource_pool_get_next_slot.o
	Object		startup.o
	Object		unk_02006300.o
	Object		unk_02006368.o
	Object		unk_02006448.o
	Object		unk_02006E7C.o
	Object		heap_validate_and_invoke_callback.o
	Object		heap_validate_subsystems.o
	Object		arm9_remaining.o
}

Autoload ITCM
{
	Address		0x01FF8000
	Object		*     		 (.itcm)
}

Autoload DTCM
{
	Address		0x027E0000
	Object		*     		 (.dtcm)




}


